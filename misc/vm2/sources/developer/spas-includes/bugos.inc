Procedure BugOS_WriteCustomChar(c:char);
Begin;
Write(#0#5+c);
End;

Procedure BugOS_SignDaemoning;
Begin;
Write(#0#0#0#0);
End;

Procedure BugOS_totalMemInfo(var total,kernel,free:LongInt);
Begin;
asm sysCall system.sysInfoMem;
asm varAddr trg total;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg kernel;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg free;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Procedure BugOS_totalSysInfo(var procs,pipes,files:LongInt);
Begin;
asm sysCall system.sysInfoNum;
asm varAddr trg procs;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg pipes;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg files;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Procedure BugOS_ProcessInfo(pid:LongInt;var mem,pipes,files:LongInt);
Begin;
asm varAddr trg pid;
asm movR dudud a [trg];
asm sysCall system.procInfoNum;
asm varAddr trg mem;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg pipes;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg files;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Procedure BugOS_ProcessName(pid:LongInt;var buf;var uid,ppid,rgt:LongInt);
Begin;
asm varAddr trg pid;
asm movR dudud a [trg];
asm VarAddr trg buf;
asm AddrLod trg [trg];
asm sysCall system.procInfoNam;
asm varAddr trg uid;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg ppid;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg rgt;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Procedure BugOS_ProcessStat(pid:LongInt;var ticks,runs:LongInt);
Begin;
asm varAddr trg pid;
asm movR dudud a [trg];
asm sysCall system.procInfoRun;
asm varAddr trg ticks;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg runs;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
End;

Procedure BugOS_SystemPerformance(var idles,shrtRnd,fullRnd,actvRun:LongInt);
Begin;
asm sysCall system.sysInfoProc;
asm varAddr trg idles;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg shrtRnd;
asm AddrLod trg [trg];
asm movW dudud [trg] b;
asm varAddr trg fullRnd;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg actvRun;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Function BugOS_findProcNum(num:LongInt):LongInt;
Begin;
asm VarAddr trg num;
asm movR dudud a [trg];
asm sysCall system.findProcNum;
asm VarAddr trg @result;
asm movW dudud [trg] a;
End;

Function BugOS_findProcNam(nam:string):LongInt;
Begin;
asm VarAddr src nam;
asm sysCall system.findProcNam;
asm VarAddr trg @result;
asm movW dudud [trg] a;
End;

Procedure BugOS_KillProcess(pid:LongInt);
Begin;
asm VarAddr trg pid;
asm movR dudud a [trg];
asm sysCall system.killProcess;
End;

Procedure BugOS_MyProcessInfo(var pid,ppid,rgt:LongInt);
Begin;
asm sysCall system.getPID;
asm varAddr trg pid;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg ppid;
asm AddrLod trg [trg];
asm movW dudud [trg] b;
asm varAddr trg rgt;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
End;

Procedure BugOS_MyOwnerInfo(var cuid,ouid:LongInt);
Begin;
asm sysCall system.getUID;
asm varAddr trg cuid;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg ouid;
asm AddrLod trg [trg];
asm movW dudud [trg] b;
End;

Procedure BugOS_SetOwnerInfo(uid:LongInt);
Begin;
asm varAddr trg uid;
asm movR dudud a [trg];
asm sysCall system.setUID;
End;

Procedure BugOS_ProcessorInfo(num:LongInt;var buf;var max,chip:LongInt);
Begin;
asm varAddr trg num;
asm movR dudud a [trg];
asm VarAddr trg buf;
asm AddrLod trg [trg];
asm sysCall system.cpuInfo;
asm varAddr trg max;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg chip;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
End;

Procedure BugOS_KernelInfo(var buf);
Begin;
asm VarAddr trg buf;
asm AddrLod trg [trg];
asm sysCall system.kernelInfo;
End;

Procedure BugOS_KernelLogo(var buf);
Begin;
asm VarAddr trg buf;
asm AddrLod trg [trg];
asm sysCall system.kernelLogo;
End;

Procedure BugOS_KernelUptime(var days,ticks,tickPerSec:LongInt);
Begin;
asm sysCall system.uptimeInfo;
asm varAddr trg days;
asm AddrLod trg [trg];
asm movW dudud [trg] a;
asm varAddr trg ticks;
asm AddrLod trg [trg];
asm movW dudud [trg] c;
asm varAddr trg tickPerSec;
asm AddrLod trg [trg];
asm movW dudud [trg] d;
End;

Function BugOS_ProcessExists(pid:LongInt):Boolean;
Begin;
asm varAddr trg pid;
asm movR dudud a [trg];
asm sysCall system.procLive;
asm VarAddr trg @result;
asm movW dubub [trg] b;
End;

Function BugOS_driveLogin(drv:char;var buf):Word;
Begin;
asm varAddr trg drv;
asm movR dubub a [trg];
asm VarAddr src buf;
asm AddrLod src [src];
asm sysCall system.driveLogin;
asm VarAddr trg @result;
asm movW duwuw [trg] b;
End;

Function BugOS_driveLogout(drv:char):Word;
Begin;
asm varAddr trg drv;
asm movR dubub a [trg];
asm sysCall system.driveLogout;
asm VarAddr trg @result;
asm movW duwuw [trg] b;
End;

Procedure BugOS_driveDone;
Begin;
asm sysCall system.driveFinished;
End;

Procedure BugOS_dropPrivileges;
Begin;
asm sysCall system.dropPrivi;
End;
