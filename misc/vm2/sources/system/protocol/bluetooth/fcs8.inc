Const fcs8table:array[0..255] of byte=(
  $00,$91,$e3,$72,$07,$96,$e4,$75,$0e,$9f,$ed,$7c,$09,$98,$ea,$7b,
  $1c,$8d,$ff,$6e,$1b,$8a,$f8,$69,$12,$83,$f1,$60,$15,$84,$f6,$67,
  $38,$a9,$db,$4a,$3f,$ae,$dc,$4d,$36,$a7,$d5,$44,$31,$a0,$d2,$43,
  $24,$b5,$c7,$56,$23,$b2,$c0,$51,$2a,$bb,$c9,$58,$2d,$bc,$ce,$5f,
  $70,$e1,$93,$02,$77,$e6,$94,$05,$7e,$ef,$9d,$0c,$79,$e8,$9a,$0b,
  $6c,$fd,$8f,$1e,$6b,$fa,$88,$19,$62,$f3,$81,$10,$65,$f4,$86,$17,
  $48,$d9,$ab,$3a,$4f,$de,$ac,$3d,$46,$d7,$a5,$34,$41,$d0,$a2,$33,
  $54,$c5,$b7,$26,$53,$c2,$b0,$21,$5a,$cb,$b9,$28,$5d,$cc,$be,$2f,
  $e0,$71,$03,$92,$e7,$76,$04,$95,$ee,$7f,$0d,$9c,$e9,$78,$0a,$9b,
  $fc,$6d,$1f,$8e,$fb,$6a,$18,$89,$f2,$63,$11,$80,$f5,$64,$16,$87,
  $d8,$49,$3b,$aa,$df,$4e,$3c,$ad,$d6,$47,$35,$a4,$d1,$40,$32,$a3,
  $c4,$55,$27,$b6,$c3,$52,$20,$b1,$ca,$5b,$29,$b8,$cd,$5c,$2e,$bf,
  $90,$01,$73,$e2,$97,$06,$74,$e5,$9e,$0f,$7d,$ec,$99,$08,$7a,$eb,
  $8c,$1d,$6f,$fe,$8b,$1a,$68,$f9,$82,$13,$61,$f0,$85,$14,$66,$f7,
  $a8,$39,$4b,$da,$af,$3e,$4c,$dd,$a6,$37,$45,$d4,$a1,$30,$42,$d3,
  $b4,$25,$57,$c6,$b3,$22,$50,$c1,$ba,$2b,$59,$c8,$bd,$2c,$5e,$cf);

Procedure updateFCS8(var crc:LongInt;var buffer;size:LongInt);
Var
  buf:array[1..1] of byte absolute buffer;
  i:LongInt;
Begin;
crc:=crc and $ff;
for i:=1 to size do crc:=fcs8table[buf[i] xor crc];
End;
