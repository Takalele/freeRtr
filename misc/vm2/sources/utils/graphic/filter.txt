block mode pipeline will be opened by the filter to the parent.
in this connection, the parent serves the requests of the filter.
each packet begins with a command dword, and a reply is generated
by the parent. coordinates are 0 based.
commands are the following:

1 - get file size
    sent: -
    rcvd: size:dword

2 - truncate file
    sent: pos:dword
    rcvd: -

3 - write to file
    sent: pos:dword buf:bytes
    rcvd: -

4 - read from file
    sent: pos,size:dword
    rcvd: buf:bytes

5 - put palette
    sent: x,y:dword pal:bytes
    rcvd: -

6 - get palette
    sent: -
    rcvd: x,y:dword pal:bytes

7 - write image
    sent: x,y:dword buf:bytes
    rcvd: -

8 - read image
    sent: x,y,siz:dword
    rcvd: buf:bytes

9 - finished
    sent: -
    rcvd: -
